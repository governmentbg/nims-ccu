<div class="row">
  <sc-button name="newBtn" btn-sref="{ state: 'root.messages.new' }" text="messages_search_newMessage" class="btn btn-sm btn-primary pull-left" icon="glyphicon-send" style="display: block;"></sc-button>
</div>
<div class="row">
  <div class="list-group message-list" ng-show="messagesQuery.count !== 0">
    <a class="list-group-item message-item" ng-repeat="item in messagesQuery.messages" ng-click="view(item.messageId)">
      <strong class="list-group-item-heading message-title">{{item.title}}</strong>
      <div class="list-group-item-text">{{item.content | trim : 500}}</div>
      <div class="pull-right" style="color:grey;">
        <span l10n-text="messages_searchDraft_to" ng-show="item.recipients.length !== 0"></span>
        <span ng-repeat="recipient in item.recipients">{{recipient}}{{$last ? '' : ', '}}</span>
      </div>
    </a>
  </div>
  <sc-pager count="messagesQuery.count" page="page" change="pageChange(page)"></sc-pager>

  <div ng-show="messagesQuery.count === 0" l10n-text="messages_searchDraft_noMessages" style="margin-top: 5px;"></div>
</div>
