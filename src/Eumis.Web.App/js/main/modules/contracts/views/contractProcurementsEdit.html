<ng-form name="editProcurementForm" sc-validate="{}" sc-form-readonly="!editMode">
  <div class="panel panel-default">
    <div class="panel-heading">
      <strong class="heading" l10n-text="contracts_procurementsEdit_title"></strong>

      <div class="pull-right">
        <sc-button name="editBtn" ng-show="procurement.status === 'draft' && !editMode" btn-click="edit()" text="contracts_procurementsEdit_edit" class="btn btn-primary btn-xs"
          ng-disabled="!$canDo('ContractProcurementActions.Edit', procurementId)">
        </sc-button>
        <sc-button name="deleteBtn" ng-show="procurement.status === 'draft' && !editMode" btn-click="del()" text="contracts_procurementsEdit_delete" class="btn btn-danger btn-xs" icon="glyphicon-remove"
          ng-disabled="!$canDo('ContractProcurementActions.Delete', procurementId)">
        </sc-button>
        <sc-button name="draftBtn" ng-show="procurement.status === 'entered'" btn-click="setToDraft()" text="contracts_procurementsEdit_draft" class="btn btn-success btn-xs"
          ng-disabled="!$canDo('ContractProcurementActions.ChangeStatusToDraft', procurementId)">
        </sc-button>
        <sc-button name="checkBtn" ng-show="procurement.status === 'entered'" btn-click="check()" text="contracts_procurementsEdit_check" class="btn btn-primary btn-xs"
          ng-disabled="!$canDo('ContractProcurementActions.MarkAsChecked', procurementId)">
        </sc-button>
        <sc-button name="saveBtn" btn-click="save()" text="contracts_procurementsEdit_save" class="btn btn-primary btn-xs" icon="glyphicon-floppy-disk" ng-show="editMode">
        </sc-button>
        <sc-button name="cancelBtn" btn-click="cancel()" text="contracts_procurementsEdit_cancel" class="btn btn-default btn-xs" icon="glyphicon-ban-circle" ng-show="editMode">
        </sc-button>
      </div>
    </div>

    <div class="well-sm panel-body">
      <eumis-contract-procurement name="procurementForm" ng-model="procurement"></eumis-contract-procurement>

      <div class="row" ng-show="!editMode">
        <eumis-structured-document text="contracts_procurementsEdit_template" document="contractProcurement" gid="procurement.gid"
          readonly="procurement.status !== 'draft' || !$canDo('ContractProcurementActions.Edit', procurementId)"
          class="col-sm-4 col-md-3" doc-updated="procurementUpdated">
        </eumis-structured-document>
      </div>
    </div>
  </div>
</ng-form>
