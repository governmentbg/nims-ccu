<ng-form name="reportsSearchForm" sc-validate="{}" sc-form-readonly="false">
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="well well-sm">
        <div ng-show="uploadMode">
          <div class="row">
            <sc-field type="file" name="file" ng-model="file" ng-required="true" url-template="ProjectFile" l10n-text="monitoring_sebra_file" class="col-sm-5"></sc-field>
            <div class="col-sm-5" style="margin-top: 20px;">
              <a type="button" href="templates/projects.xlsx" download="projects.xlsx" class="btn btn-default btn-sm pull-left">
                <span class="glyphicon glyphicon-download"></span>
                <span l10n-text="monitoring_sebra_template"></span>
              </a>
            </div>
          </div>
        </div>
        <div ng-show="!uploadMode">
          <div class="row">
            <sc-field type="nomenclature" alias="'programmes'" mode="id" ng-model="filters.programmeId" ng-required="true" l10n-text="monitoring_arachne_programme" class="col-sm-5"></sc-field>
            <sc-field type="nomenclature" alias="'proceduresByProgramme'" mode="id" ng-model="filters.procedureId" ng-required="true" ng-disabled="!filters.programmeId" params="{ programmeId: filters.programmeId }" l10n-text="procedures_modals_chooseProcedureModal_users" class="col-sm-5"></sc-field>
          </div>
          <div class="row">
            <sc-field type="date" ng-model="filters.fromDate" ng-required="true" l10n-text="monitoring_sebra_fromDate" class="col-sm-5"></sc-field>
            <sc-field type="date" ng-model="filters.toDate" ng-required="true" l10n-text="monitoring_sebra_toDate" class="col-sm-5"></sc-field>
          </div>
          <div class="row">
            <sc-field type="int" ng-model="filters.fromNumber" ng-required="true" l10n-text="monitoring_sebra_fromNumber" class="col-sm-5"></sc-field>
            <sc-field type="int" ng-model="filters.toNumber" ng-required="true" l10n-text="monitoring_sebra_toNumber" class="col-sm-5"></sc-field>
          </div>
        </div>
        <div class="row">
          <sc-field type="nomenclature" ng-model="filters.type" alias="'sebraPaymentTypes'" mode="id" l10n-text="monitoring_sebra_paymentType" class="col-sm-5"></sc-field>
          <sc-field type="text" ng-model="filters.sendername" l10n-text="monitoring_sebra_sendername" class="col-sm-5"></sc-field>
          <div class="labeless col-sm-2">
            <sc-button name="uploadFileBtn" ng-show="uploadMode" ng-disabled="isReadonly" btn-click="changeMode()" text="monitoring_sebra_chooseFilter"
              class="btn btn-primary btn-sm pull-left" style="margin-left: 5px; width: 158px;">
            </sc-button>
            <sc-button name="uploadFileBtn" ng-show="!uploadMode" ng-disabled="isReadonly" btn-click="changeMode()" text="monitoring_sebra_chooseFile"
              class="btn btn-primary btn-sm pull-right" icon="glyphicon-upload" style="width: 158px;">
            </sc-button>
          </div>
        </div>
        <div class="row">
          <sc-field type="text" ng-model="filters.acc" ng-required="true" l10n-text="monitoring_sebra_acc" class="col-sm-5"></sc-field>
          <sc-field type="text" ng-model="filters.o1" ng-required="true" l10n-text="monitoring_sebra_o1" class="col-sm-5"></sc-field>
          <div class="labeless col-sm-2">
            <sc-link-button ng-show="uploadMode" ng-href="api/monitoringReports/sebra/exporByFile?type={{filters.type}}&sendername={{filters.sendername}}&acc={{filters.acc}}&o1={{filters.o1}}&fileKey={{file.key}}"
                            target="_blank" sc-access-token ng-disabled="!file || !filters.acc || !filters.o1"
                            icon="fa-file-code-o fa-lg fa-fw" text="monitoring_sebra_xmlExport" class="btn btn-primary btn-sm pull-right" style="width: 158px;">
            </sc-link-button>
            <sc-link-button ng-show="!uploadMode" ng-href="api/monitoringReports/sebra/export?programmeId={{filters.programmeId}}&procedureId={{filters.procedureId}}&type={{filters.type}}&fromDate={{filters.fromDate}}&toDate={{filters.toDate}}&fromNumber={{filters.fromNumber}}&toNumber={{filters.toNumber}}&sendername={{filters.sendername}}&acc={{filters.acc}}&o1={{filters.o1}}"
                            target="_blank" sc-access-token ng-disabled="!filters.programmeId || !filters.procedureId || !filters.fromDate || !filters.toDate || !filters.fromNumber || !filters.toNumber || !filters.acc || !filters.o1"
                            icon="fa-file-code-o fa-lg fa-fw" text="monitoring_sebra_xmlExport" class="btn btn-primary btn-sm pull-right" style="width: 158px;">
            </sc-link-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-form>
