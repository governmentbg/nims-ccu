@model R_10040.BFPContractAttachedDocuments

@if (Model != null)
{
    <div class="table-wrapper">
        <img class="horizontal-scroll" src="@Url.Content(Links.Content.img.icons.blue_arrow_right_gif)" alt="" />
        <table class="chart-info dynamic-rows file-upload" width="100%">
            <thead>
                <tr>
                    <th style="width:30%;">@AttachedDocument.Type</th>
                    <th style="width:40%;">@AttachedDocument.Description</th>
                    <th style="width:30%;">@AttachedDocument.FileName</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.AttachedDocumentCollection != null && Model.AttachedDocumentCollection.Count > 0)
                {
                    for (int i = 0; i < Model.AttachedDocumentCollection.Count; i++)
                    {
                        <tr>
                            <td>
                                <span class="filled-value">
                                    @if (Model.AttachedDocumentCollection[i].Type != null)
                                    {
                                        <text>@Model.AttachedDocumentCollection[i].Type.Name</text>
                                    }
                                </span>
                            </td>
                            <td>
                                @Html.DisplayFor(m => m.AttachedDocumentCollection[i].Description)
                            </td>
                            <td>
                                <div class="files">
                                    @if (Model.AttachedDocumentCollection[i].AttachedDocumentContent != null && !String.IsNullOrWhiteSpace(Model.AttachedDocumentCollection[i].AttachedDocumentContent.FileName) && !String.IsNullOrWhiteSpace(Model.AttachedDocumentCollection[i].AttachedDocumentContent.BlobContentId))
                                    {
                                        <p>@Model.AttachedDocumentCollection[i].AttachedDocumentContent.FileName</p>
                                        <a target="_blank" href="/api/@(this.ViewContext.RouteData.Values[Constants.SessionKey].ToString())/file/download/@(Model.AttachedDocumentCollection[i].AttachedDocumentContent.BlobContentId)" class="download-file file-btn">@Global.ButtonDownloadText</a>
                                    }
                                </div>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
}
