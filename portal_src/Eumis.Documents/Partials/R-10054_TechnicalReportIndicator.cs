//--------------------------------------------------------------
// Autogenerated by XSDObjectGen version 1.0.0.0
//--------------------------------------------------------------

using System;
using System.Xml.Serialization;
using System.Collections;
using System.Xml.Schema;
using System.ComponentModel;
using Eumis.Common.Resources;
using Eumis.Documents.Contracts;
using Eumis.Documents.Enums;
using System.Collections.Generic;
using Eumis.Documents.Interfaces;
using System.Linq;
using Eumis.Documents;
using Eumis.Documents.Validation;
using Eumis.Common.Validation;
using Eumis.Common.Helpers;

namespace R_10054
{
    public partial class TechnicalReportIndicator
    {
        [XmlIgnore]
        public bool IsAggregatedReport 
        { 
            get 
            {
                return this.BFPContractIndicator != null
                    && this.BFPContractIndicator.SelectedIndicator != null
                    && !String.IsNullOrWhiteSpace(this.BFPContractIndicator.SelectedIndicator.AggregatedReport)
                    && this.BFPContractIndicator.SelectedIndicator.AggregatedReport.ToLower().Equals("да");
            } 
        }

        [XmlIgnore]
        public bool IsAggregatedTarget
        {
            get
            {
                return this.BFPContractIndicator != null
                    && this.BFPContractIndicator.SelectedIndicator != null
                    && !String.IsNullOrWhiteSpace(this.BFPContractIndicator.SelectedIndicator.AggregatedTarget)
                    && this.BFPContractIndicator.SelectedIndicator.AggregatedTarget.ToLower().Equals("да");
            }
        }

        [XmlIgnore]
        public bool HasGenderDivision
        {
            get
            {
                return this.BFPContractIndicator != null
                    && this.BFPContractIndicator.SelectedIndicator != null
                    && this.BFPContractIndicator.SelectedIndicator.HasGenderDivision;
            }
        }

        [XmlIgnore]
        public bool IsTrendReduction
        {
            get
            {
                return this.BFPContractIndicator != null
                    && this.BFPContractIndicator.SelectedIndicator != null
                    && !String.IsNullOrWhiteSpace(this.BFPContractIndicator.SelectedIndicator.TrendName)
                    && this.BFPContractIndicator.SelectedIndicator.TrendName.ToLower().Equals("намаление");
            }
        }

        public void EvaluateCumulativeAmounts()
        {
            this.CumulativeAmountMen = (this.PeriodAmountMen + (this.IsAggregatedReport ? 0 : this.LastReportCumulativeAmountMen));
            this.CumulativeAmountWomen = (this.PeriodAmountWomen + (this.IsAggregatedReport ? 0 : this.LastReportCumulativeAmountWomen));
            this.CumulativeAmountTotal = (this.PeriodAmountTotal + (this.IsAggregatedReport ? 0 : this.LastReportCumulativeAmountTotal));
        }

        public void EvaluateResidueAmounts()
        {
            this.ResidueAmountMen = (this.IsTrendReduction ? this.BFPContractIndicator.BaseMen : this.BFPContractIndicator.TargetMen - this.CumulativeAmountMen - (this.IsAggregatedTarget ? (this.IsTrendReduction ? this.BFPContractIndicator.TargetMen : this.BFPContractIndicator.BaseMen) : 0));
            this.ResidueAmountWomen = (this.IsTrendReduction ? this.BFPContractIndicator.BaseWomen : this.BFPContractIndicator.TargetWomen - this.CumulativeAmountWomen - (this.IsAggregatedTarget ? (this.IsTrendReduction ? this.BFPContractIndicator.TargetWomen : this.BFPContractIndicator.BaseWomen) : 0));
            this.ResidueAmountTotal = (this.IsTrendReduction ? this.BFPContractIndicator.BaseTotal : this.BFPContractIndicator.TargetTotal - this.CumulativeAmountTotal - (this.IsAggregatedTarget ? (this.IsTrendReduction ? this.BFPContractIndicator.TargetTotal : this.BFPContractIndicator.BaseTotal) : 0));
        }

    }
}
